<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Loan Application Portal</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">

<div class="max-w-3xl mx-auto p-4">
    <h1 class="text-xl font-bold mb-4">Loan Products</h1>

    <!-- CIBIL INPUT -->
    <div class="mb-4">
        <label class="font-semibold text-sm">Enter Your CIBIL Score</label>
        <input id="cibilInput" type="number" class="w-full p-2 border rounded-lg mt-1" placeholder="Enter CIBIL (300 - 900)" />
    </div>

    <!-- PROFILE SELECTION -->
    <div class="mb-4">
        <label class="font-semibold text-sm">Select Profile</label>
        <select id="profileSelect" class="w-full p-2 border rounded-lg mt-1">
            <option value="all">All</option>
            <option value="salaried">Salaried</option>
            <option value="self">Self Employed</option>
        </select>
    </div>

    <!-- PRODUCTS CONTAINER -->
    <div id="products" class="grid grid-cols-1 gap-4"></div>
</div>

<!-- POPUP (KNOW MORE) -->
<div id="popup" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-xl p-4 max-w-md w-full shadow-lg">
        <h2 id="popupTitle" class="text-lg font-bold mb-2"></h2>
        <p class="text-sm font-semibold mb-1">Benefits:</p>
        <p id="popupBenefits" class="text-sm mb-2"></p>

        <p class="text-sm font-semibold mb-1">Eligibility:</p>
        <p id="popupEligibility" class="text-sm mb-2"></p>

        <p class="text-sm font-semibold mb-1">Documents Required:</p>
        <p id="popupDocuments" class="text-sm mb-4"></p>

        <button onclick="closePopup()" class="w-full bg-red-600 text-white py-2 rounded-lg">Close</button>
    </div>
</div>

<script>

// PRODUCT DATA
const loanProducts = [
    {
        title: "POONAWALLA FINCORP PERSONAL LOAN",
        logo: "https://via.placeholder.com/80",
        min: 720,
        max: 900,
        rate: "10.5% ‚Äì 22%",
        profile: "salaried",
        benefits: "üí∏ Attractive Interest Rate<br>üîç No Hidden Charges<br>‚ö° Quick Approval",
        eligibility: "Age 23-58, Minimum Salary 20,000",
        documents: "Aadhar, PAN, Bank Statement",
        apply: "https://google.com",
        tnc: "https://google.com"
    },

    {
        title: "TEZ CREDIT PERSONAL LOAN",
        logo: "https://via.placeholder.com/80",
        min: 700,
        max: 900,
        rate: "12% ‚Äì 28%",
        profile: "all",
        benefits: "‚ö° Instant Approval<br>üìÑ Minimal Docs<br>üí≥ Flexible Amount",
        eligibility: "Age 21-60, Income Proof",
        documents: "Aadhar, PAN, Photograph",
        apply: "https://google.com",
        tnc: "https://google.com"
    }
];

// CREATE PRODUCT CARDS
function addProduct(data) {
    let shortBenefits = data.benefits.split("<br>").slice(0, 2).join("<br>");

    let card = document.createElement("div");
    card.className = "product-card bg-white rounded-2xl shadow-lg p-4 border border-gray-200";

    card.dataset.title = data.title;
    card.dataset.benefits = data.benefits;
    card.dataset.eligibility = data.eligibility;
    card.dataset.documents = data.documents;
    card.dataset.apply = data.apply;

    card.dataset.profile = data.profile;
    card.dataset.min = data.min;
    card.dataset.max = data.max;

    card.innerHTML = `
        <p class="font-bold text-gray-900 text-base mb-3">${data.title}</p>

        <div class="flex items-start gap-3">

    <img src="${data.logo}" class="w-16 h-16 rounded-xl object-cover border" />

    <div class="flex-1 flex">

        <!-- LEFT SIDE TEXT -->
        <div class="flex-1">
            <p class="text-xs text-gray-700 font-semibold">CIBIL Required: ${data.min} - ${data.max}</p>
            <p class="text-xs text-gray-700 font-semibold">Interest Rate: ${data.rate}</p>
            <p class="text-xs text-blue-700 font-semibold">For: ${data.profile.toUpperCase()}</p>
        </div>

        <!-- BENEFITS start aligned with CIBIL ending -->
        <div class="w-60 text-[11px] text-gray-700 leading-tight ml-2 self-start">
            ${shortBenefits}
        </div>

    </div>
</div>
        </div>

        <!-- BUTTON ROW -->
        <div class="grid grid-cols-2 gap-2 mt-3">
            <button onclick="openPopup(this.closest('.product-card'))" class="w-full text-center px-3 py-2 border rounded-lg text-xs font-semibold text-gray-700">Know More</button>
            <a href="${data.apply}" target="_blank" class="w-full text-center px-3 py-2 bg-green-600 text-white rounded-lg text-xs shadow font-semibold">Apply Now</a>
        </div>

        <!-- DISCLAIMER WITH T&C -->
        <p class="text-[11px] text-gray-500 mt-3 text-left">
            <a href="${data.tnc}" target="_blank" class="underline text-blue-700">Terms & Conditions</a> ‚Äî
            You will be redirected to an external financial partner. Approval and interest rates are decided by the lender.
        </p>
    `;

    document.getElementById("products").appendChild(card);
}

loanProducts.forEach(addProduct);

// POPUP FUNCTIONS
function openPopup(card) {
    document.getElementById("popupTitle").innerHTML = card.dataset.title;
    document.getElementById("popupBenefits").innerHTML = card.dataset.benefits;
    document.getElementById("popupEligibility").innerHTML = card.dataset.eligibility;
    document.getElementById("popupDocuments").innerHTML = card.dataset.documents;

    document.getElementById("popup").classList.remove("hidden");
}
function closePopup() {
    document.getElementById("popup").classList.add("hidden");
}

</script>

</body>
</html>
